function _iS({file:file,container:container,videoSelect:videoSelect,custom_element_class:custom_element_class,delay:delay,display_container:display_container}){var vidElem=document.querySelector(videoSelect),timeS_reg=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/,groupSubs=[],startT=[],endT=[],styles=[],cClass,dLay,dcT;function readAparse(a){for(var splitLines=a.split("\n\n"),i=0;i<splitLines.length;i++)sg=splitLines[i].split("\n"),"NOTE"!==sg[0]&&sg.length>1&&"WEBVTT"!==sg[0]&&groupSubs.push(sg),splitLines.length-1===i&&getDet();function getDet(){var indiv=document.createElement("div");indiv.className="__innerVTT",document.querySelector(container).appendChild(indiv);for(var i=0;i<groupSubs.length;){for(var t=0;t<groupSubs[i].length;t++)if(groupSubs[i][t].match(timeS_reg)){var o=groupSubs[i][t].split(" --\x3e ")[1],v=o.match(timeS_reg);l=groupSubs[i][t].split(" --\x3e ")[0].match(timeS_reg),s=o.replace(timeS_reg,"").trim().split(" ").map(x=>x.split(":")),startT.push(cSec(l)),endT.push(cSec(v)),styles.push(s)}else;i++}}}cClass=null==custom_element_class?"_innerSub":custom_element_class,dcT=null!=display_container,dLay=void 0!==delay?delay:0,function readF(f){$.get(f,(function(data){readAparse(data)}),"text")}(file);var posArray=0,runAg=!0;function playVid(){var vidCurTime=vidElem.currentTime;if(vidCurTime+dLay>startT[posArray]&&runAg){diN(!1);var e=getSP(groupSubs[posArray]),hsty=stRet(styles[posArray]),cont=document.querySelector(".__innerVTT");for(cont.style.cssText=hsty;e<groupSubs[posArray].length;e++){var div=document.createElement("div");div.innerHTML="<p>"+groupSubs[posArray][e]+"</p>",div.className=cClass,cont.appendChild(div)}runAg=!1}vidCurTime+dLay>=endT[posArray]&&(diN(!0),posArray++,remElem(),runAg=!0)}function diN(a){dcT&&(document.querySelector(container).style.display=a?"none":"block")}function seekSec(){var a=closest(Math.floor(vidElem.currentTime),startT),j=startT.indexOf(a),vC=vidElem.currentTime;vC<a&&vC<endT[j-1]?posArray=j-1:(posArray=j,runAg=!0),remElem()}function remElem(){const eEm=document.getElementsByClassName(cClass);for(;eEm.length>0;)eEm[0].remove()}function getSP(a){for(var t=0;t<a.length;t++)if(a[t].match(timeS_reg))return t+1}function cSec(a){var s=parseFloat(a[3]),m=60*parseFloat(a[2]),h=3600*parseFloat(a[1]);return null==a[1]&&(h=0),parseFloat((s+m+h).toFixed(1))}function stRet(a){for(var m={align:"text-align",position:"left",start:"left",middle:"center",end:"right",vertical:"transform",rl:"rotate(90deg); width: fit-content",lr:"rotate(-90deg); width: fit-content",line:"top","-1":"100%",size:"width"},value="",e=0;e<a.length;e++){var w=a[e],prop=w[0],val=w[1],regPer=/(\d+)(%)/;if(value+=null==m[prop]?prop+": ":m[prop]+": ",null==m[val]?regPer.test(val)?(split=val.match(regPer),100==parseInt(split[1])?"position"==prop?value+="100%; transform: translate(-100%, 0px);":"line"==prop&&(value+="100%; transform: translate(-50%, -100%);"):value+=val+"; "):value+=val+"; ":value+=m[val]+"; ",e==a.length-1)return value}}function closest(num,arr){for(var curr=arr[0],diff=Math.abs(num-curr),val=0;val<arr.length;val++){var newdiff=Math.abs(num-arr[val]);newdiff<diff&&(diff=newdiff,curr=arr[val])}return curr}vidElem.onplay=()=>{playVid()},vidElem.ontimeupdate=()=>{playVid()},vidElem.onseeking=()=>{seekSec()}}